@model IEnumerable<Pepe100.ViewModels.TyontekijatViewModel>

<h1 style="color:lightpink">NurseBid</h1>

@section scripts{

	<script type="text/javascript">
		$(window).on('load', function () {
			if (@ViewBag.HyvaksyTarjousError == 1) {
				$('#HyvaksyTarjousRuutu').modal('show');
			}
		});
	</script>
}
@{if (ViewBag.HyvaksyTarjousError == 1)
	{ Html.RenderPartial("_HyvaksyVuoro"); }
}
@{if (ViewBag.Info == 1)
	{ Html.RenderPartial("_InfoRuutu"); }
}

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<script>
	$(document).ready(function () {
		$('[data-toggle="popover"]').popover({
			html: true,
			sanitize: false
		});
	});
</script>


<table class="table">
	<tr>
		<th></th>
		<th>@Html.DisplayNameFor(model => model.TyoID)</th>
		<th>@Html.DisplayNameFor(model => model.Etunimi)</th>
		<th>
			@Html.DisplayNameFor(model => model.VastaTarjousHinta)
		@*@Html.DisplayName("Tarjoushinta")*@
	</th>
	<th></th>
</tr>

@foreach (var item in Model)
{
	using (Html.BeginForm("KatsoTarjouksia", "Yritys", FormMethod.Post))
	{
		@Html.AntiForgeryToken()
		@Html.ValidationSummary(true, "", new { @class = "text-danger" })
		@Html.HiddenFor(modelItem => item.TyoID)
		<tr>
			<td>
				@*<a href="#" data-toggle="popover" title="Popover Header" data-content="<table><thead><th>Etunimi</th><th>Sukunimi</th><th>Email</th>@if (item.LOP == true)
				{
					<th>LOP</th>
				}</thead><tbody><td>@item.Etunimi</td><td>@item.Sukunimi</td><td>@item.Email</td>@if (item.LOP == true)
				{
					<td>@item.LOP</td>
				}</tbody></table>">Toggle popover</a>*@
				@*<a href="#" data-toggle="popover" title="Popover Header" data-content="@item.Etunimi <table><th>Sukunimi</th><td>@item.Sukunimi</td></table>">Toggle popover</a>*@
				<a href="#" data-toggle="popover" title="Popover Header" data-content="<table><thead><th>Etunimi</th><th>Sukunimi</th><th>Email</th>@if (item.LOP == true)
				{
					<th>LOP</th>
				}</thead><tbody><td>@item.Etunimi</td><td>@item.Sukunimi</td><td>@item.Email</td>@if (item.LOP == true)
				{
					<td>@item.LOP</td>
				}</tbody><thead><th>Etunimi</th><th>Sukunimi</th><th>Email</th>@if (item.LOP == true)
				{
					<th>LOP</th>
				}</thead><tbody><td>@item.Etunimi</td><td>@item.Sukunimi</td><td>@item.Email</td>@if (item.LOP == true)
				{
					<td>@item.LOP</td>
				}</tbody></table>">Toggle popover</a>
			</td>
			<td>@Html.DisplayFor(modelItem => item.TyoID, new { htmlAttributes = new { @class = "form-control" } })</td>
			<td>@Html.DisplayFor(modelItem => item.Etunimi, new { htmlAttributes = new { @class = "form-control" } })</td>
			<td>@Html.DisplayFor(modelItem => item.VastaTarjousHinta, new { htmlAttributes = new { @class = "form-control" } })</td>
			<td>
				<a href="@Url.Action("_HyvaksyTarjous", "Yritys", new { tyoid = item.TyoID,henid = item.HenkiloID, vhinta = item.VastaTarjousHinta })" style="font-weight:600; color:lightblue">HYVÄKSY</a>
				<a href="@Url.Action("KatsoTarjouksia", "Yritys", new { henkid = item.HenkiloID })" style="font-weight:600; color:lightblue">KATSO</a>
			</td>
		</tr>
	}
}
</table>

